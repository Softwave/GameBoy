#include <gb/gb.h>

int x, y, key, spr;

unsigned char bot[] =
{
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x10,0x10,0x00,0x10,0x00,0x10,0xFF,0xFF,

  0x81,0xDB,0x81,0x81,0x81,0xDB,0x81,0xFF,
  0xA9,0xEB,0x81,0xFF,0xFF,0xFF,0x42,0x42,

  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x40,0x40,0x00,0x20,0x00,0x10,0xFF,0xFF,

  0x81,0xDB,0x81,0x81,0x81,0xDB,0x81,0xFF,
  0xA9,0xEB,0x81,0xFF,0xFF,0xFF,0x84,0x84,

  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x40,0x60,0x00,0x10,0xFF,0xFF,
  
  0x81,0xDB,0x81,0x81,0x81,0xDB,0x81,0xFF,
  0xA9,0xEB,0x81,0xFF,0xFF,0xFF,0x48,0x48
};

void move() {
	if (joypad() == J_RIGHT) {
		x++;
		spr += 2;
		if(spr==6) spr=0;
		set_sprite_tile(0,spr);
		set_sprite_prop(0,0);         
		move_sprite(0,x,y);
		delay(20);
	}

	if (joypad() == J_LEFT) {
		x--;
		spr += 2;
		if(spr==6) spr=0;
		set_sprite_tile(0,spr);

		set_sprite_prop(0,S_FLIPX | 0x01);  

		move_sprite(0, x, y);
		delay(20);
	}

}

void main() {
	x = 80; 
	y = 80;
	spr = 0;

	SPRITES_8x16;
	set_sprite_data(0, 6, bot);

	set_sprite_tile(0, spr);

	move_sprite(spr, x, y);
	SHOW_SPRITES;

	while(!0) {
		move();
	}


}